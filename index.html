<!DOCTYPE html>
<html>
<head>
    <title>Monster Slayer</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <link rel="stylesheet" href="css/foundation.min.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
<div id="app">
    <section class="row">
        <div class="small-6 columns">
            <h1 class="text-center">YOU</h1>
            <img src="img/chibi.png" alt="" style="height: 500px; width: 100%">

            <div class="healthbar">
                <div class="healthbar text-center" style="background-color: red; margin: 0; color: white;" :style="{width: slayerHeal + '%'}">

                </div>
            </div>
        </div>
        <div class="small-6 columns">
            <h1 class="text-center">MONSTER</h1>
            <img src="img/monster.png" alt="" style="height: 500px; width: 100%">
            
            <div class="healthbar">
                <div class="healthbar text-center" style="background-color: red; margin: 0; color: white;" :style="{width: monsterHeal + '%'}">

                </div>
            </div>
        </div>
    </section>
    <section class="row controls" v-if="!isNewgame">
        <div class="small-12 columns">
            <button id="start-game" @click="startNewGame()">START NEW GAME</button>
        </div>
    </section>
    <section class="row controls" v-if="isNewgame">
        <div class="small-12 columns">
            <button id="attack" @click="attack()">ATTACK</button>
            <button id="special-attack">SPECIAL ATTACK</button>
            <button id="heal">HEAL</button>
            <button id="give-up">GIVE UP</button>
        </div>
    </section>
    <section class="row log">
        <div class="small-12 columns">
            <ul>
                <li>
                    {{resultMessage}}
                </li>
            </ul>
        </div>
    </section>
</div>
<!-- <script src="./js/app.js"></script> -->
<script>
var app = new Vue({
  el: '#app',
  data: {
    isNewgame: false,
    slayerHeal: 100,
    monsterHeal: 100,
    resultMessage: ''
  },
  methods:{
    attack(){
        this.stayerAttack();
        this.monsterAttack();
        if(this.slayerHeal <= 0){  // slayer thua
            this.slayerHeal = 0;
            this.resultMessage = 'Ngoc anh bi dam chet';
            this.isNewgame = false;
            return;
        }
        if(this.monsterHeal <= 0){  // monster thua
            this.monsterHeal = 0;
            this.resultMessage = 'Khanh dep trai';
            this.isNewgame = false;
            return;
        }
    },
    stayerAttack(){
        let slayerDame = Math.floor(Math.random() * 101); // slayer đấm ngọc anh cao nhất được 20 dame
        this.monsterHeal -= slayerDame;
    },
    monsterAttack(){
        let monsterDame = Math.floor(Math.random() * 21); // monster đấm khánh cao nhất được 100 dame
        this.slayerHeal -= monsterDame;
    },
    startNewGame(){
        this.isNewgame = true;
        this.slayerHeal = 100;
        this.monsterHeal = 100;
        this.resultMessage = "";
    }
  }
})
</script>
</body>
</html>